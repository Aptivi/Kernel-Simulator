<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>What is the custom splash for the kernel? | Kernel Simulator API - Eofla Internals </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="What is the custom splash for the kernel? | Kernel Simulator API - Eofla Internals ">
    <meta name="generator" content="docfx 2.58.9.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h2 id="what-is-the-custom-splash-for-the-kernel">What is the custom splash for the kernel?</h2>

<p>The custom splash is an assembly file that loads before the splash is displayed. It allows you to create custom splashes from simple progress bars to complex console art.</p>
<p>To get started to our Kernel Simulator API, visit <a href="https://eoflaoe.github.io/Kernel-Simulator/">this page</a>.</p>
<h2 id="custom-splash-format">Custom splash format</h2>
<p>The mods have the file extension of <code>.dll</code>, and can support more than one code file for each mod. This will allow you to make bigger mods that can't fit on one source file, or if you want to separate some parts of the big source code to multiple fragments.</p>
<h2 id="how-to-start-your-own-custom-splash-on-visual-studio">How to start your own custom splash on Visual Studio?</h2>
<p>We recommend following the template repository for making your own mod <a href="https://github.com/EoflaOE/KSCustomSplashTemplate">here</a>.</p>
<p>If you're going to make your custom splash, follow these steps:</p>
<ol>
<li>On the Start Page, click on <code>New Project</code></li>
<li>Click on <code>Class Library (.NET Framework)</code> or <code>Class Library</code>, select VB or C#, and name your splash. Select Framework as <code>.NET Framework 4.8</code> or <code>.NET 6.0</code>. When you're finished, click <code>Create</code>.</li>
<li>Right-click on References in the Solution Explorer, and press <code>Manage NuGet packages...</code></li>
<li>Go to <code>Browse</code>, and find <code>Kernel Simulator</code> and install it.</li>
<li>You will see that your KS executable files are added to the references. In your project file, this will be added:</li>
</ol>
<pre><code class="lang-xml">    &lt;PackageReference Include=&quot;KS&quot;&gt;
      &lt;Version&gt;0.0.21.1&lt;/Version&gt;
    &lt;/PackageReference&gt;
</code></pre>
<ol start="6">
<li>The code will be ready in your SplashName codefile:</li>
</ol>
<pre><code class="lang-vb">Public Class SplashName
    'Your code here
End Class
</code></pre>
<p>Now, follow these steps to create your first mod:</p>
<ol>
<li>Between the Public Class... and the End Class lines, let Visual Studio know that you're going to create your KS mod by writing: <code>Implements ISplash</code></li>
<li>Define properties for mod information by putting below the Implements ISplash: (Change the values as appropriate)</li>
</ol>
<pre><code class="lang-vb">Property SplashClosing As Boolean Implements ISplash.SplashClosing
Property ProgressWritePositionX As Integer Implements ISplash.ProgressWritePositionX
Property ProgressWritePositionY As Integer Implements ISplash.ProgressWritePositionY
Property ProgressReportWritePositionX As Integer Implements ISplash.ProgressReportWritePositionX
Property ProgressReportWritePositionY As Integer Implements ISplash.ProgressReportWritePositionY
Property SplashDisplaysProgress As Boolean Implements ISplash.SplashDisplaysProgress
Property ISplash.SplashName As String Implements ISplash.SplashName
</code></pre>
<ol start="3">
<li>Make your opening splash sub named Opening() that implements the ISplash.Opening, by writing:</li>
</ol>
<pre><code class="lang-vb">Sub Opening() Implements ISplash.Opening
    'Your code below
End Sub
</code></pre>
<ol start="4">
<li>Replace every <code>'Your code below</code> comment with your code. Repeat this step on all the interface subs</li>
<li>Make your display splash sub named Display() that implements the ISplash.Display, by writing:</li>
</ol>
<pre><code class="lang-vb">Sub Display() Implements ISplash.Display
    'Your code below
End Sub
</code></pre>
<ol start="6">
<li>Make your progress report splash sub named Report() that implements the ISplash.Report, by writing:</li>
</ol>
<pre><code class="lang-vb">Sub Report(Progress As Integer, ProgressReport As String, ProgressWritePositionX As Integer, ProgressWritePositionY As Integer, ProgressReportWritePositionX As Integer, ProgressReportWritePositionY As Integer, ParamArray Vars() As Object) Implements ISplash.Report
    'Your code below
End Sub
</code></pre>
<ol start="7">
<li>Make your closing splash sub named Closing() that implements the ISplash.Closing, by writing:</li>
</ol>
<pre><code class="lang-vb">Sub Closing() Implements ISplash.Closing
    'Your code below
End Sub
</code></pre>
<ol start="8">
<li>Right-click on the solution and press Build.</li>
<li>Copy the output <code>.dll</code> file to KSSplashes directory in your profile folder (<code>/home/&lt;user&gt;/</code> in Linux, and <code>Users\&lt;user&gt;\</code> in Windows)</li>
<li>Run your Kernel Simulator you've just referenced to in your project, and set it to display your splash using the <code>settings</code> command. Be sure to reboot the kernel.</li>
</ol>
<h2 id="optional-stuff">Optional Stuff</h2>
<ol>
<li>You can make your subs anywhere on the class, but if:
<ul>
<li>they're on the different class, make a separate code file for it:</li>
</ul>
</li>
</ol>
<pre><code class="lang-vb">Public Class AnotherClass
    'Your definitions below, and so your subs, functions, interfaces, etc.
End Class
</code></pre>
<ol start="2">
<li>The new subs or functions should meet the following conditions:
<ul>
<li>They shouldn't make an infinite loop unless you're making them that exits if specified conditions are met</li>
<li>They shouldn't try to cause errors with the kernel.</li>
<li>If you're an exploiter and are making the exploit code for the splash implementation, do so on your test environment first then the production environment, then make your CVE report so we get attention and fix that quickly.</li>
</ul>
</li>
<li>If you're going to add imports, these rules must be met:
<ul>
<li>Don't import &quot;KS&quot; by itself. KS does that automatically</li>
<li>When importing modules/classes like TextWriterColor, it's written like this: <code>Imports KS.Misc.Writers.TextWriterColor</code></li>
</ul>
</li>
</ol>
<h2 id="examples">Examples</h2>
<p>If you want to check out the examples, feel free to check them out in the <a href="https://github.com/EoflaOE/KSModExamples">KSModExamples</a> respository in GitHub.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/EoflaOE/Kernel-Simulator/blob/master/DocGen/wiki/development/Custom-splash-guide.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
